// Bi-App-Sass for APROS
// Define SASS in LTR abd Bi-App-Sass will automatically write respective RTL

@import "mixins";
@import "colors";
@import "foundation/functions";

body{
  &.with-program{
    header {
      .logo {
        @include float(left);
      }
      nav {
        @include float(left);
      }
      .user-info {
        @include float(right);
      }
    }
    .program-bar{
      [class*="column"]{
        @include float(left);
        + [class*="column"]{
          &:last-child{
            @include float(right);
          }
        }
      }
      .program-menu{
        @include float(left);
      }
      .course_nav{
        .course-tabs{
          @include float(right);
          @include text-align(right);
          @include mobile{
            text-align: center;
          }
        }
      }
    }
  }
}

//Image Explorer

.image-explorer-hotspot-reveal{
  .image-explorer-close-reveal{
    @include float(right);
  }
  .image-explorer-hotspot-reveal-body {
    ul {
      @include margin-left(1.1rem);
    }
  }
}

// Simmulated Chat

.chat-block{
  .bot{
    .message-body{
      @include margin-left(25px $imp);
    }
  }
  .user{
    .message-body{
      @include margin-right(25px $imp);
    }
  }
}

//Course Cohort

#course-lessons,
#course-group-work,
#course-cohort,
#course-discussion,
#course-news,
#course-overview,
#course-progress,
#course-resources,
#course-syllabus{
  .global-help,
  .global-help:visited {
    @include right(10px);
  }
}

#course-cohort{
  .student-data{
    ul.students{
      @include float(left);
      li{
        @include float(left);
        @include border-right(1px solid $almost-white);
        &:first-child,
        &:last-child {
          @include border-right(none);
        }
      }
    }
    a.hide-team{

      @include float(right);
    }
  }
  .leaderboards{
    .leaderboards-list{
      li{
        @include border-right(1px solid $almost-white);
        .header{
          [class*="label"]{
            @include text-align(left);
          }
        }
        .user{
          .avatar{
            @include float(left);
            @include margin-right(10px);
          }
          .info{
            @include margin-left(60px);
            @include text-align(left);
          }
        }
        .rank{
          min-height: 71px;
        }
      }
    }
  }
}

// Progress Page

#course-progress-v2{
  table{
    tr{
      td, th{
        @include border-right(1px solid $border-line);
        &:last-child{
          @include border-right(none);
        }
      }
    }
  }
}

.lesson-with-list {
  @include padding-right(rem-calc(40));
    a[data-reveal-id] {
      @include right(rem-calc(10));
    }
}

.lesson-row-item{
    .status{
      @include float(left);
    }
    .lesson-item-name{
      @include text-align(left);
      @include margin-left(18px);
    }
}


//Misc

#mckinsey_help{
  .help-line{
    padding: 15px 0;
    @include padding-left(50px);
  }
}

#course-menu{
  .bookmark{
    @include right(rem-calc(5));
  }
}

header[role=banner]{
  &.background-blue{
    .header-logo-img{
      @include float(left);
      @include margin-right(15px);
    }
  }
}

.course_nav{
  .xns-pane{
    @include right(0);
  }
}

.xns-container{
  @include padding-left(10px);
  .xns-content{
    .xns-tab-list{
      @include margin-left(0);
      li{
        @include border-right(1px solid #ddd);
        &:first-child{
          @include padding-left(0);
        }
        &:last-child{
          @include border-right(0);
        }
      }
    }
  }
  .xns-items{
    @include margin-left(0);
    @include padding-right(10px);
  }
}

// RTL specified CSS selectors

.rtl {
  .chat-block{
    .user{
        text-align: left !important;
      .message-body{
        &::after{
          border-color: transparent $chat-bg-color $chat-bg-color transparent;
          right: 100%;
        }
        &::before{
          left: -16px;
          right: auto;
          border-color: transparent $chat-user-message-bg-color $chat-user-message-bg-color transparent;
        }
      }
    }
    .bot{
      .message-body{
        &::after{
          border-color: transparent transparent $chat-bg-color $chat-bg-color;
          left: 100%;
        }
        &::before{
          border-color: transparent transparent $chat-bot-message-bg-color $chat-bot-message-bg-color;
          bottom: 0;
          right: -16px;
          left: auto;
        }
      }
    }
  }

  //ooyala video controls
  .oo-interactive-container{
    direction: ltr;
  }

  //Cohort
  #course-lessons,
  #course-group-work,
  #course-cohort,
  #course-discussion,
  #course-news,
  #course-overview,
  #course-progress,
  #course-resources,
  #course-syllabus{
    .global-help,
    .global-help:visited {
      transform: scale(-1, 1);
    }
  }

  #course-cohort{
    .leaderboards{
      .leaderboards-list{
        li{
          &:last-child{
            border-left: 0;
          }
          .rank{
            min-height: 71px;
          }
        }
      }
    }
    #map-cohort{
      .leaflet-popup-close-button{
        left: 0;
        right: auto !important;
      }
    }
  }

  // Progress Page

  #course-progress-v2{
    tbody{
      tr{
        td{
          .course-progress{
            .total{
              right: auto !important;
              left: -50px !important;
            }
            .visualization{
              .bar{
                right: 0;
                left: auto;
                background: linear-gradient(to left, #389b46, #b8d432);
                -pie-background: linear-gradient(to left, #389b46, #b8d432);
                &.trailing {
                  background: #ef4326;
                  background: linear-gradient(to left, #ef4326, #fbac40);
                  -pie-background: linear-gradient(to left, #ef4326, #fbac40);
                }
              }
            }
          }
          &.visual{
            border-left: 1px solid $border-line;
            border-right: 0;
          }
        }
      }
    }
  }

  //Modal
  .close-reveal-modal{
    right: auto;
    left: .78571rem;
  }

  // Misc

  .fa-arrow-circle-right{
    &:before{
      content: "\f0a8";
    }
  }

  ol, ul{
    margin-left: 0;
    margin-right: 1.4rem;
  }

  img[align="right"]{
    float: left;
  }

  table{
    tr{
      td{
        text-align: initial;
      }
    }
  }

  header[role=banner]{
    &.background-blue{
      #profile-container{
        display: none;
        &.open{
          display: inline;
          right: auto !important;
          left: 0 !important;
        }
      }
    }
  }
}
