- load i18n
- load staticfiles

- for course in courses
  .col-sm-12.col-md-6.col-lg-4
    %a.d-block{:href => "#{course.nav_url}"}
      .card.ome{"class": "{% if course.ended %}archived{% endif %}"}
        .overlay-img
          %img.card-img-top{:alt => "Card image cap", :src => "{{course.course_image_url}}"}
        .card-body.dome-bc
          - if course and current_course
            - if course.id == current_course.id
              %span.current-bookmark-text.dome-bc
                {% trans "resume course" %}
          %h3.card-title
            = course.name
          .course-detail
            - if course.effort
              %span.course-effort
                %i.material-icons
                  access_time
                {% trans "est. time" %} {{course.effort}}
            - else
              %span.lesson-count
                = course.total_lessons
                {% trans "Lessons" %}
            %span.course-progress
              {{course.percent_complete}}%
              %span.bar
                %span{:style => "width: {{course.percent_complete}}%"}
- empty
  .col
    #courses.contentCard.text-center
      {% trans "You aren't enrolled in any courses." %}

%script
  $('.card-img-top').on('error', function(e){
    $(e.target).attr('src', '/static/image/default-course-image.png');
  });
