- load i18n
- load staticfiles

.courseNavWrap.clearfix
  .pn-ProductNav_Wrapper.clearfix
    %nav#pnProductNav.pn-ProductNav.clearfix{:data-overflowing => "none"}
      #pnProductNavContents.mainNav.pn-ProductNav_Contents
        %ul
          %li.active
            %a.nav-link.pn-ProductNav_Link{:aria-selected => "true", :href => "/courses/#{current_course.id}/"}
              {% trans "Overview" %}
          %li
            %a.nav-link.pn-ProductNav_Link.dropdown-toggle{:data-toggle => "dropdown", :href => "#"}
              - if lessons_custom_label
                = lessons_custom_label
              - else
                {% trans "Lessons" %}
            .dropdown-menu.allLessons.dropdown-menu-left
              %ul.allCoursesList
                - for lesson in course.chapters
                  %li{"class": "courseRow {% if lesson.is_started %}active{% else %}locked{% endif %} {% if lesson.progress == 100 %}complete{% else %}{% endif %}"}
                    %a.holder{"href": "{% if lesson.is_started %}#{lesson.navigation_url}{% else %}\#{% endif %}", "onClick": "{% if not lesson.is_started %}return false;{% endif %}"}
                      .data.serial
                        - if lesson_custom_label
                          {% blocktrans with lesson_index=lesson.index %}
                            {{lesson_custom_label}}
                            %span {{lesson_index}}:
                          {% endblocktrans %}
                        - else
                          {% trans "Lesson" %}
                          %span {{lesson.index}}
                      .data.title
                        %span= lesson.name
                          -if not lesson.is_started
                            %i.material-icons.locked{:data-container => "body", :data-content => "{% trans 'This lesson will be available on '%} {{lesson.start_upon}}", :data-original-title => "", :data-placement => "bottom", :data-toggle => "popover", :data-trigger => "hover", :title => ""} lock
                      .data.status
                        %i.material-icons
                        - if lesson.progress == 100
                          %i.material-icons check_circle
                          {% trans "Complete" %}
                        - elif lesson.progress == 0
                          %i.material-icons panorama_fish_eye
                          {% trans "Not Started" %}
                        - else
                          %i.material-icons tonality
                          {% trans "In Progress" %}
                    .description
                      - autoescape off
                        - if not lesson.is_started
                          - if lesson_custom_label
                            {% blocktrans with start_date=lesson.start_upon %} This {{lesson_custom_label}} will be available on {{ start_date }} {% endblocktrans %}
                          - else
                            {% blocktrans with start_date=lesson.start_upon %} This lesson will be available on {{ start_date }} {% endblocktrans %}
                        - else
                          = lesson.description
                    - if lesson.bookmark
                      %img.bookmark{:src => "{% static 'image/bookmark.svg' %}"}
          - if feature_flags.discussions
            %li
              %a.nav-link.pn-ProductNav_Link{:aria-selected => "", "class": "{% ifequal request.resolver_match.url_name 'course_discussion' %}selected{% endifequal %}", "href": "/courses/#{current_course.id}/discussion", "data-tooltip": '{% trans "Discussion" %}', "style": "{% if client_customization and client_customization.hex_navigation_icons %}color:#{client_customization.hex_navigation_icons};{% endif %}"}
                {% trans "Discussion" %}
          - if feature_flags.group_work
            %li
              %a.nav-link.pn-ProductNav_Link{:aria-selected => "", "class": "{% ifequal request.resolver_match.url_name 'course_group_work' %}selected{% endifequal %}", "href": "/courses/#{current_course.id}/group_work", "data-tooltip": '{% trans "Group Work" %}', "style": "{% if client_customization and client_customization.hex_navigation_icons %}color:#{client_customization.hex_navigation_icons};{% endif %}"}
                {% trans "Group Work" %}
          - if feature_flags.cohort_map
            %li
              %a.nav-link.pn-ProductNav_Link{:aria-selected => "", "class": "{% ifequal request.resolver_match.url_name 'course_cohort' %}selected{% endifequal %}", "href": "/courses/#{current_course.id}/cohort", "data-tooltip": '{% trans "Cohort" %}', "style": "{% if client_customization and client_customization.hex_navigation_icons %}color:#{client_customization.hex_navigation_icons};{% endif %}"}
                {% trans "Cohort" %}
          - if feature_flags.progress_page
            %li
              %a.nav-link.pn-ProductNav_Link{:aria-selected => "", "class": "{% ifequal request.resolver_match.url_name 'course_progress' %}selected{% endifequal %}", "href": "/courses/#{current_course.id}/progress", "data-tooltip": '{% trans "Progress" %}', "style": "{% if client_customization and client_customization.hex_navigation_icons %}color:#{client_customization.hex_navigation_icons};{% endif %}"}
                {% trans "Progress" %}
          %li
            %a.nav-link.pn-ProductNav_Link.dropdown-toggle{"class": "{% ifequal request.resolver_match.url_name 'course_news' %}selected{% endifequal %}", :data-toggle => "dropdown", "href": "#", "data-tooltip": '{% trans "Course Materials" %}', "style": "{% if client_customization and client_customization.hex_navigation_icons %}color:#{client_customization.hex_navigation_icons};{% endif %}"}
              {% trans "Course Materials" %}
            .dropdown-menu.dropdown-menu-right
              %a.dropdown-item{"class": "{% ifequal request.resolver_match.url_name 'course_news' %}selected{% endifequal %}", "href": "/courses/#{current_course.id}/announcements"}
                {% trans "Announcements" %}
              %a.dropdown-item{"class": "{% ifequal request.resolver_match.url_name 'course_overview' %}selected{% endifequal %}", "href": "/courses/#{current_course.id}/overview"}
                {% trans "Course Overview" %}
              - if feature_flags.resources
                %a.dropdown-item{"class": "{% ifequal request.resolver_match.url_name 'course_resources' %}selected{% endifequal %}", "href": "/courses/#{current_course.id}/resources"}
                  {% trans "Resources" %}
          - if feature_flags.notifications
            %li
              %a.nav-link.pn-ProductNav_Link{:aria-selected => "", :href => "#", "data-tooltip": '{% trans "Notifications" %}', "style": "{% if client_customization and client_customization.hex_navigation_icons %}color:#{client_customization.hex_navigation_icons};{% endif %}"}
                {% trans "Notifications" %}
        %span#pnIndicator.pn-ProductNav_Indicator{:style => "transform: translateX(0px) scaleX(0.672); background-color: rgb(46, 45, 57);"}
    %button#pnAdvancerLeft.pn-Advancer.pn-Advancer_Left{"type": "button"}
      %svg.pn-Advancer_Icon{:viewbox => "0 0 551 1024", :xmlns => "http://www.w3.org/2000/svg"}
        %path{:d => "M445.44 38.183L-2.53 512l447.97 473.817 85.857-81.173-409.6-433.23v81.172l409.6-433.23L445.44 38.18z"}
    %button#pnAdvancerRight.pn-Advancer.pn-Advancer_Right{:type => "button"}
      %svg.pn-Advancer_Icon{:viewbox => "0 0 551 1024", :xmlns => "http://www.w3.org/2000/svg"}
        %path{:d => "M105.56 985.817L553.53 512 105.56 38.183l-85.857 81.173 409.6 433.23v-81.172l-409.6 433.23 85.856 81.174z"}
