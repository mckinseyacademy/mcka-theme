- load i18n
- load staticfiles

- get_current_language_bidi as LANGUAGE_BIDI

.contentCardWrap
  .head
    - if lessons_custom_label
      = course.chapters|length
      = lessons_custom_label
    - else
      %h5
        = course.chapters|length
        {% trans "Lessons" %}
  .contentCard
    %ul.allCoursesList
      - for lesson in course.chapters
        %li{"class": "courseRow clearfix {% if lesson.is_started %}active{% else %}locked{% endif %}  {% if lesson.progress == 100 %}complete{% else %}{% endif %}"}
          %a.holder{"href": "{% if lesson.is_started %}#{lesson.navigation_url}{% else %}\#{% endif %}", "onClick": "{% if not lesson.is_started %}return false;{% endif %}"}
            .data.serial
              - if lesson_custom_label
                {{lesson_custom_label}}
                - if lesson_index
                  %span {{lesson_index}}
                - else
                  %span {{lesson.index}}
              - else
                {% trans "Lesson" %}
                %span {{lesson.index}}
            .data.title
              %span= lesson.name
                - if not lesson.is_started
                  %i.material-icons.locked{:data-container => "body", :data-content => "{% trans 'This lesson will be available on '%} {{lesson.start_upon}}", :data-original-title => "", :data-placement => "bottom", :data-toggle => "popover", :data-trigger => "hover", :title => ""} lock
            .data.time
              - if lesson.estimated_time
                %i.material-icons
                  access_time
                = lesson.estimated_time
            .data.progressBar
              %span.figure
                {{lesson.progress}}%
              .statusBar
                .progress-counter{:style => "width:{{lesson.progress}}%"}
          %a.description{:class => "{% if not lesson.description%}no-data{% endif %}", "href": "{% if lesson.is_started %}#{lesson.navigation_url}{% else %}\#{% endif %}", "onClick": "{% if not lesson.is_started %}return false;{% endif %}"}
            - autoescape off
              - if not lesson.is_started
                - if lesson_custom_label
                  {% blocktrans with start_date=lesson.start_upon %} This {{lesson_custom_label}} will be available on {{ start_date }} {% endblocktrans %}
                - else
                  {% blocktrans with start_date=lesson.start_upon %} This lesson will be available on {{ start_date }} {% endblocktrans %}
              - else
                = lesson.description
          - if lesson.bookmark
            %span.bookmark
