- load i18n
- load cache
- load template_helpers
- get_current_language as LANGUAGE_CODE
- get_available_languages as LANGUAGES

%header.appHeader
  .container
    .row
      .col
        .logo.clearfix
          %div.all-logos
            - if client_customization.global_client_logo
              %a.navbar-brand{:href => "/"}
                %img{:src => "{{client_customization.global_client_logo}}", :width => "160"}
            - else
              %a.navbar-brand{:href => "/"}
                %img{:src => "static/image/McKA-logo-blue.svg", :width => "160"}
            - if client_customization.client_logo
              %a.navbar-brand{:href => "/"}
                %img{:src => "{{client_customization.client_logo}}", :width => "160"}

          - if request.user.is_authenticated
            .topRightArea
              .profileArea
                %a.dropdown-toggle{:aria-expanded => "false", :aria-haspopup => "true", :data-toggle => "dropdown", :href => "#"}
                  %span RA
                  %img{:src => "static/image/McKA-logo-white.svg", :width => "160"}/
                - if LANGUAGE_BIDI
                  %div{'class' : 'dropdown-menu profile-area large-menu dropdown-menu-left profileDropdown'}
                    .header
                      .avatar-area
                        .userAvatar.lg
                          .holder
                            %span RA
                            %img{:alt => "", :src => ""}/
                          %a.edit-link{:data-target => ".editPhotoModal", :data-toggle => "modal", :href => "#"}
                            {% trans "edit photo" %}
                      .titles-area
                        .nameArea
                          %span Rajal Ajai
                          %a.edit-link{:data-target => ".editFullName", :data-toggle => "modal", :href => "#"}
                            {% trans "edit" %}
                        .roleArea
                          %span UX Consultant
                          %a.edit-link{:data-target => ".editRole", :data-toggle => "modal", :href => "#"}
                            {% trans "edit" %}
                    .content
                      .wrap
                        %strong.text-uppercase.title
                          {% trans "username" %}
                        %strong.titleName raajimk
                      .wrap
                        %strong.text-uppercase.title
                          {% trans "email" %}
                        %span.userMail rajal_ajai@external.mckinsey.com
                    .footer.ome
                      %a.btn.btn-secondary.dome-c{href: "/accounts/logout"}
                        {% trans "log out" %}
                - else
                  %div{'class' : 'dropdown-menu profile-area large-menu dropdown-menu-right profileDropdown'}
                    .header
                      .avatar-area
                        .userAvatar.lg
                          .holder
                            %span RA
                            %img{:alt => "", :src => ""}/
                          %a.edit-link{:data-target => ".editPhotoModal", :data-toggle => "modal", :href => "#"}
                            {% trans "edit photo" %}
                      .titles-area
                        .nameArea
                          %span Rajal Ajai
                          %a.edit-link{:data-target => ".editFullName", :data-toggle => "modal", :href => "#"}
                            {% trans "edit" %}
                        .roleArea
                          %span UX Consultant
                          %a.edit-link{:data-target => ".editRole", :data-toggle => "modal", :href => "#"}
                            {% trans "edit" %}
                    .content
                      .wrap
                        %strong.text-uppercase.title
                          {% trans "username" %}
                        %strong.titleName raajimk
                      .wrap
                        %strong.text-uppercase.title
                          {% trans "email" %}
                        %span.userMail rajal_ajai@external.mckinsey.com
                    .footer.ome
                      %a.btn.btn-secondary.dome-c{href: "/accounts/logout"}
                        {% trans "log out" %}

              %nav.nav.mainNav.headerNav
                %ul
                  - if request.user.is_manager
                    {% url 'manager_dashboard' as manager_dashboard_url %}
                    %li{class: "{% if request.path == manager_dashboard_url %}active{% endif %}"}
                      %a.nav-link.ome.dome-c{href: "{{manager_dashboard_url}}"}
                        {% trans "team reports" %}
                  - if request.user.is_mcka_admin or request.user.is_internal_admin or request.user.is_mcka_subadmin
                    {% url 'admin_home' as admin_home_url %}
                    %li{class: "{% if request.path == admin_home_url %}active{% endif %}"}
                      %a.nav-link.ome.dome-c{href: "{{admin_home_url}}"}
                        {% trans "admin" %}
                  - elif request.user.is_company_admin
                    {% url 'company_dashboard' as company_dashboard_url %}
                    %li{class: "{% if request.path == company_dashboard_url %}active{% endif %}"}
                      %a.nav-link.ome.dome-c{href: "{{company_dashboard_url}}"}
                        {% trans "company admin" %}
                  %li
                    %a.nav-link.dropdown-toggle.ome.dome-c{"aria-expanded": "false", "aria-haspopup": "true", "data-toggle": "dropdown", :href => "#", :role => "button"}
                      {% trans "dashboard" %}
                    - if LANGUAGE_BIDI
                      %div{'class' : 'dropdown-menu-left dropdown-menu middle-menu clearfix dashboard-menu'}
                        %a.dropdown-item.ome.dome-c{:href => "#"} Executive Leadership Program
                        %a.dropdown-item.ome.dome-c{:href => "#"} Leadership Development Program
                    - else
                      %div{'class' : 'dropdown-menu-right dropdown-menu middle-menu clearfix'}
                        %a.dropdown-item.ome.dome-c{:href => "#"} Executive Leadership Program
                        %ul.sub-nav.d-block.d-sm-none
                          %li
                            %a.active{:href => "#"} Calender
                          %li
                            %a{:href => "#"} Discussions
                          %li
                            %a{:href => "#"} Resources

                        %a.dropdown-item.ome.dome-c{:href => "#"} Leadership Development Program
                  {% url 'courses' as courses_url %}
                  %li{class: "{% if request.path == courses_url %}active{% endif %}"}
                    %a.nav-link.ome.dome-c{href: "{{courses_url}}"}
                      {% trans "my courses" %}

          - else
            - if use_i18n
              .language-selector
                %i.material-icons language
                .dropdown
                  %button#dropdownMenuButton.dropdown-toggle.border-0{"aria-expanded": "false", "aria-haspopup": "true", "data-toggle": "dropdown", :type => "button"}
                    {{ LANGUAGE_CODE }}
                  .dropdown-menu{"aria-labelledby": "dropdownMenuButton", :class => ".dropdown-menu-right"}
                    - for language_code, language_name in LANGUAGES
                      - if LANGUAGE_CODE == language_code
                        %a.dropdown-item.selected
                          {{language_name}}
                      - else
                        %a.dropdown-item{href: "{% url 'language_switcher' %}?LANG={{language_code}}"}
                          -if language_code == 'en' or language_code == 'nl'
                            - get_language_info for language_code as lang
                            {{lang.name}}
                          -else
                            {{language_name}}
