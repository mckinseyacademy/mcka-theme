- csrf_token
= form
- if error
  .error
    = error
.row
  .large-12.columns
    %a{:class => "button radius small", :href => "/admin/client-admin/#{client_id}/courses/#{course_id}/learner_dashboard/#{learner_dashboard_id}/tile/", :data-reveal-id => 'tileModal', :data-reveal-ajax =>'true', style: "margin-bottom: 15px"}
      New element
      %i{'class': "fa fa-plus"}

    -if learner_dashboard_tiles
      %table
        %thead
          %tr
            %th= _("Title")
            %th= _("Calendar visible")
            %th= _("Dashboard visible")
            %th= _("Type")
            %th= _("Edit")
            %th= _("Delete")
        %tbody
          - for tile in learner_dashboard_tiles
            %tr{id: "#{tile.id}"}
              %td{style: "word-wrap: break-word"}= tile.title
              %td{style: "word-wrap: break-word; text-align: center;"}
                -if tile.show_in_calendar
                  %i{'style': "color:green", 'class': "fa fa-check"}
              %td{style: "word-wrap: break-word; text-align: center;"}
                -if tile.show_in_dashboard
                  %i{'style': "color:green", 'class': "fa fa-check"}
              %td{style: "word-wrap: break-word"}= tile.get_tile_type_display
              %td
                %a{:href => "/admin/client-admin/#{client_id}/courses/#{course_id}/learner_dashboard/#{learner_dashboard_id}/tile/#{tile.id}", :data-reveal-id => 'tileModal', :data-reveal-ajax =>'true'}
                  %i{'style': "color:green", 'class': "fa fa-pencil-square-o"}
              %td
                %a{class: "confirm", OnClick: 'deleteTile(#{tile.id}, #{learner_dashboard_id})'}
                  %i{'style': "color:red", 'class': "fa fa-times"}
    %a{id: "saveSort", class: "button radius small", style: "display:none; float:right;"}
        Save list order
        %i{'class': "fa fa-save"}

    %div{id: "savedSort", class: "button radius small disabled", style: "display:none; float:right;"}
      Saved
        %i{'class': "fa fa-check", style: "color:green"}
