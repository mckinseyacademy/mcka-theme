- extends "admin/admin_layout.haml"

- block content
  .row
    #coursesModal.reveal-modal.tiny{'data-reveal': None}
    #mainCompanyDetailsContainer
      #companyDetailsNavigation
        - if companyAdminFlag
          %a{:href => '/admin/company_dashboard', :target => '_self'}> < Back to All Companies
        - else
          %a{:href => '/admin/companies', :target => '_self'}> < Back to All Companies
      #mainCompanyDetailsDataContainer{:data-id => '#{company.id}', :admin-flag => '#{companyAdminFlag}'}
        #companyDetailsTopDataWrapper
          .row.companyDetailsCompanyName
            .companyDetailsTextName
              ={company.name}
            - if not companyAdminFlag
              %i.fa.fa-pencil.editCompanyNameIcon
              .companyDetailsInputName{:style => 'display:none;'}
                %input{:type => 'text', :value => '#{company.name}'}
              .errorMessage

          .row.companyDetailsNumberParticipants
            %p Total Participants: ={company.numberParticipants}
          - if not user.is_company_admin
            .row.companyDetailsCompanyID
              %p Company ID: ={company.id}
          .row.companyDetailsNumberActiveCourses
            %p Active Courses: ={company.activeCourses}

        - if not user.is_company_admin
          #additionalCompanyButtons
            %a.button.small.radius.navigationLink{:href => "/admin/clients/#{company.id}/navigation"}
              Navigation
            %a.button.small.radius.accessLink{:href => "/admin/clients/#{company.id}/access_keys"}
              Access
            - if user.is_mcka_admin
              %a#addAppPopupLink.companyLinkedApps.button.small.radius{"data-reveal-id" => "linkApp", :href => "#"}
                Link Apps

        #companyDetailsNavigationButtonsContainer
          .row
            .companyDetailsCoursesButton.large-3.columns
              %a.hashPageButton{:href => '#', :target => '_self', :data-target => 'companyCourses', :data-container => '#companyDetailsDataWrapper', :onclick => 'Apros.Router.HashPageChanger(this)', :style => 'font-weight: bold'}> COURSES

            - if user.is_mcka_admin
              .companyDetailsLinkedAppsButton.large-3.columns
                %a.hashPageButton{:href => '#', :target => '_self', :data-target => 'companyLinkedApps', :data-container => '#companyDetailsDataWrapper', :onclick => 'Apros.Router.HashPageChanger(this)'}> LINKED APPS

            .large-6.columns
          %hr
      #companyDetailsDataWrapper
        .companyCourses.contentNavigationContainer
          #companyDetailsCoursesContainer
            #companyDetailsCoursesViewGridBlock

        - if user.is_mcka_admin
          .companyLinkedApps.contentNavigationContainer
            #companyLinkedAppsContainer
              #companyLinkedAppsViewGridBlock

    - if user.is_mcka_admin
      #linkApp.reveal-modal.small{"aria-hidden" => "true", "aria-labelledby" => "modalTitle", "data-reveal" => "", :role => "dialog"}
        %h4 Link mobile app
        %p Type in the name of the mobile app that you want to link with "Company Name"
        %b App Name
        %input#appSearchInput{:placeholder => 'App Name', :type => 'text', :name => 'app_name', :class => 'appSearchInput'}
        .errorMessage
        %button.button.small.radius.linkAppButton{:value => "Link App", :type => "Submit"} Link App
        %input.button.small.radius.close-reveal-modal{:value => "Cancel", :type => "button"}/
        %a.close-reveal-modal{"aria-label" => "Close"} Ã—
