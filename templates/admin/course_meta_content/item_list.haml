- extends "admin/admin_layout.haml"
- load staticfiles
- load i18n

- block content
  .row
    %p {% trans "This is the course meta content list page." %}
    %p
    %table
      %tr
        %td {% trans "ID" %}
        %td {% trans "SEQUENCE" %}
        %td {% trans "TITLE" %}
        %td {% trans "TYPE" %}
        %td
        %td

      - for item in items
        %tr
          %td
            = item.id
          %td
            = item.sequence
          %td
            = item.title
          %td
            = item.content_type
          %td
            %a{href: '/admin/course-meta-content/item/#{item.id}/edit'}
              {% trans "Edit" %}
          %td
            %a{href: '/admin/course-meta-content/item/#{item.id}/delete'}
              {% trans "Delete" %}
    %p
      %a{href: '/admin/course-meta-content/item/new?course_id=#{course_id}'}
        {% trans "Create New Item" %}
  #feature-flags.row
    %p {% trans "This is the course feature list." %}
    %form#feature-flags-form{action: "/courses/#{course_id}/feature_flag", method: 'POST'}
      - csrf_token
      %ul
        %li
          - if feature_flags.discussions
            %input#discussions{type: 'checkbox', name: 'discussions', checked: 'checked'}
          - else
            %input#discussions{type: 'checkbox', name: 'discussions'}
          %label{for: 'discussions'}
            {% trans "Discussions" %}
          %p.style-6 {% trans "Note: If you disable the discussion page, notifications coming from existing lesson inline discussion modules in the course will redirect the user to the course home page. It is suggested that lesson inline discussion modules are not present in courses without discussions enabled. It will also disable Engagement section from Leaderboard even if 'Engagement' flag is enabled." %}
        %li
          - if feature_flags.group_work
            %input#group_work{type: 'checkbox', name: 'group_work', checked: 'checked'}
          - else
            %input#group_work{type: 'checkbox', name: 'group_work'}
          %label{for: 'group_work'}
            {% trans "Group Work" %}
        %li
          - if feature_flags.cohort_map
            %input#cohort_map{type: 'checkbox', name: 'cohort_map', checked: 'checked'}
          - else
            %input#cohort_map{type: 'checkbox', name: 'cohort_map'}
          %label{for: 'cohort_map'}
            {% trans "Cohort Map" %}
        %li
          - if feature_flags.proficiency
            %input#cohort_map{type: 'checkbox', name: 'proficiency', checked: 'checked'}
          - else
            %input#cohort_map{type: 'checkbox', name: 'proficiency'}

          %label{for: 'proficiency'}
            {% trans "Proficiency" %}
          %p.style-6 {% trans "Note: If you disable 'Proficiency', it will hide proficiency section from course landing, progress page and from leaderboard on cohort page." %}

        %li
          - if feature_flags.progress
            %input#cohort_map{type: 'checkbox', name: 'progress', checked: 'checked'}
          - else
            %input#cohort_map{type: 'checkbox', name: 'progress'}
          %label{for: 'progress'}
            {% trans "Progress Widget" %}
          %p.style-6 {% trans "Note: If you disable 'Progress Widget', it will hide progress section from course landing page." %}

        %li
          - if feature_flags.progress_page
            %input#cohort_map{type: 'checkbox', name: 'progress_page', checked: 'checked'}
          - else
            %input#cohort_map{type: 'checkbox', name: 'progress_page'}
          %label{for: 'progress_page'}
            {% trans "Progress Page" %}
          %p.style-6 {% trans "Note: If you disable 'Progress Page', it will hide progress page icon from secondary navigation." %}
        %li
          - if feature_flags.notifications
            %input#cohort_map{type: 'checkbox', name: 'notifications', checked: 'checked'}
          - else
            %input#cohort_map{type: 'checkbox', name: 'notifications'}
          %label{for: 'notifications'}
            {% trans "Notifications" %}
        %li
          - if feature_flags.branding
            %input#cohort_map{type: 'checkbox', name: 'branding', checked: 'checked'}
          - else
            %input#cohort_map{type: 'checkbox', name: 'branding'}
          %label{for: 'learner_dashboard'}
            {% trans "Branding" %}
        %li
          - if feature_flags.learner_dashboard
            %input#cohort_map{type: 'checkbox', name: 'learner_dashboard', checked: 'checked'}
          - else
            %input#cohort_map{type: 'checkbox', name: 'learner_dashboard'}
          %label{for: 'learner_dashboard'}
            {% trans "Learner Dashboard" %}
        %li
          - if feature_flags.resources
            %input#cohort_map{type: 'checkbox', name: 'resources', checked: 'checked'}
          - else
            %input#cohort_map{type: 'checkbox', name: 'resources'}
          %label{for: 'resources'}
            {% trans "Resources" %}
        %li
          - if feature_flags.cohort_avg
            %input#cohort_avg{type: 'checkbox', name: 'cohort_avg', checked: 'checked'}
          - else
            %input#cohort_avg{type: 'checkbox', name: 'cohort_avg'}
          %label{for: 'cohort_avg'}
            {% trans "Cohort Average" %}
        %li
          - if feature_flags.certificates
            %input#certificates{type: 'checkbox', name: 'certificates', checked: 'checked'}
          - else
            %input#certificates{type: 'checkbox', name: 'certificates'}
          %label{for: 'certificates'}
            {% trans "Certificates" %}
        - if has_advanced_settings_permissions
          %li
            - if mobile_available
              %input#mobile_available{type: 'hidden', name: 'mobile_available', value: 'off'}
              %input#mobile_available{type: 'checkbox', name: 'mobile_available', checked: 'checked'}
            - else
              %input#mobile_available{type: 'checkbox', name: 'mobile_available'}
            %label{for: 'mobile_available'}
              {% trans "Mobile Available" %}
        %li
          - if feature_flags.engagement
            %input#engagement{type: 'checkbox', name: 'engagement', checked: 'checked'}
          - else
            %input#engagement{type: 'checkbox', name: 'engagement'}
          %label{for: 'engagement'}
            {% trans "Engagement" %}
          %p.style-6 {% trans "Note: If you disable 'Engagement', it will hide Engagement section from leaderboard." %}
        %li
          - if feature_flags.discover
            %input#discover{type: 'checkbox', name: 'discover', checked: 'checked'}
          - else
            %input#discover{type: 'checkbox', name: 'discover'}
          %label{for: 'discover'}
            {% trans "Discover" %}
          %p.style-6 {% trans "Note: If you disable the 'Discover', it will hide Discover section from course main page." %}
        - if user.is_mcka_admin or user.is_mcka_subadmin
          %li
            - if feature_flags.lesson_label
              %input#lesson_label{type: 'checkbox', name: 'lesson_label', checked: 'checked'}
            - else
              %input#lesson_label{type: 'checkbox', name: 'lesson_label'}
            %label{for: 'lesson_label'}
              {% trans "Lesson Label" %}
            %p.style-6 {% trans "Note: If you disable the 'Lesson Label', it will hide Lesson Label." %}
          %li
            - if feature_flags.progress_indication
              %input#progress_indication{type: 'checkbox', name: 'progress_indication', checked: 'checked'}
            - else
              %input#progress_indication{type: 'checkbox', name: 'progress_indication'}
            %label{for: 'progress_indication'}
              {% trans "Progress Indication" %}
            %p.style-6 {% trans "Note: If you disable the 'Progress Indication', it will hide Progress Level on the lesson and module levels." %}



  - if user.is_mcka_admin or user.is_mcka_subadmin
    %section.course_custom_terminology
      .row.custom-lesson-label
        .large-12.columns.ll-setup
          .row
            .large-8.columns
              .row
                .small-4.columns
                  %label{for:'custom_lesson_label'}
                    {% trans "Lesson" %}
                .small-8.columns
                  .custom-lesson-label-input
                    %input#custom_lesson_label{"name": "custom_lesson_label", "type": "text", "maxlength":15, "value": "#{custom_lesson_label}"}
                    .read-only-ll
                    %span.status-icon-ll
                      .icon
            .small-4.columns.ll-buttons
              %a#add-ll.button.radius.tiny{href: ""}
                %span#add-ll
                  {% trans "Add" %}
              %a#edit-ll.button.radius.tiny{href: ""}
                %span#edit-ll
                  {% trans "Edit" %}
              %a#reset-ll{href: ""}
                %span#reset-ll
                  {% trans "Cancel" %}
              %a#save-ll.button.radius.tiny{href: ""}
                %span#save-ll
                  {% trans "Save" %}

    %section.course_custom_terminology
      .row.custom-module-label
        .large-12.columns.ml-setup
          .row
            .large-8.columns
              .row
                .small-4.columns
                  %label{for:'custom_module_label'}
                    {% trans "Module" %}
                .small-8.columns
                  .custom-module-label-input
                    %input#custom_module_label{"name": "custom_module_label", "type": "text", "maxlength":15, "value": "#{custom_module_label}"}
                    .read-only-ml
                    %span.status-icon-ml
                      .icon
            .small-4.columns.ml-buttons
              %a#add-ml.button.radius.tiny{href: ""}
                %span#add-ml
                  {% trans "Add" %}
              %a#edit-ml.button.radius.tiny{href: ""}
                %span#edit-ml
                  {% trans "Edit" %}
              %a#reset-ml{href: ""}
                %span#reset-ml
                  {% trans "Cancel" %}
              %a#save-ml.button.radius.tiny{href: ""}
                %span#save-ml
                  {% trans "Save" %}


- block js_snippets
  :javascript
    var noLlMsg = "{% trans 'Click Add to specify Lesson Label' %}"
    var noMlMsg = "{% trans 'Click Add to specify Module Label' %}"
  %script{src: "{% static 'js/ajaxify_overlay_form.js' %}"}
  %script{src: "{% static 'js/vendor/ZeroClipboard.min.js' %}"}
  %script{src: "{% static 'js/admin/course_meta_content.js' %}"}
