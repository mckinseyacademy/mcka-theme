- if tile_id
  %section
    %h1 Edit Tile
- else 
  %section
    %h1 Create Tile
%hr
.close-reveal-modal
  %i.fa.fa-times-circle
%form{action: '/admin/client-admin/#{client_id}/courses/#{course_id}/learner_dashboard/#{learner_dashboard_id}/tile/#{tile_id}', method: 'POST', enctype: 'multipart/form-data'}
  - csrf_token
  .row
    .small-3.columns
    .small-9.columns= form.label.errors
  .row
    .small-3.columns= form.label.label_tag
    .small-9.columns= form.label
  .row
    .small-3.columns
    .small-9.columns= form.title.errors
  .row
    .small-3.columns= form.title.label_tag
    .small-9.columns= form.title
  .row
    .small-3.columns
    .small-9.columns= form.note.errors
  .row
    .small-3.columns= form.note.label_tag
    .small-9.columns= form.note
  .row
    .small-3.columns
    .small-9.columns= form.link.errors
  .row
    .small-3.columns= form.link.label_tag
    .small-9.columns= form.link
  .row
    .small-3.columns
    .small-9.columns= form.tile_type.errors
  .row
    .small-3.columns= form.tile_type.label_tag
    .small-9.columns= form.tile_type
  .row
    .small-3.columns
    .small-9.columns= form.background_image.errors
  .row
    .small-3.columns= form.background_image.label_tag
    .small-9.columns= form.background_image

  .row
    .small-3.columns
    .small-9.columns= form.label_color.errors
  .row
    .small-3.columns= form.label_color.label_tag
    .small-9.columns.tile-input
      %input{'type': 'color', 'id': 'id_label_color', 'name': 'label_color', 'value': "#{form.label_color.value}", 'data-default-value': "#{default_colors.label}"}

  .row
    .small-3.columns
    .small-9.columns= form.title_color.errors
  .row
    .small-3.columns= form.title_color.label_tag
    .small-9.columns.tile-input
      %input{'type': 'color', 'id': 'id_title_color', 'name': 'title_color', 'value': "#{form.title_color.value}", 'data-default-value': "#{default_colors.title}"}

  .row
    .small-3.columns
    .small-9.columns= form.note_color.errors
  .row
    .small-3.columns= form.note_color.label_tag
    .small-9.columns.tile-input
      %input{'type': 'color', 'id': 'id_note_color', 'name': 'note_color', 'value': "#{form.note_color.value}", 'data-default-value': "#{default_colors.note}"}

  .row
    .small-3.columns
    .small-9.columns= form.tile_background_color.errors
  .row
    .small-3.columns= form.tile_background_color.label_tag
    .small-9.columns.tile-input
      %input{'type': 'color', 'id': 'id_tile_background_color', 'name': 'tile_background_color', 'value': "#{form.tile_background_color.value}", 'data-default-value': "#{default_colors.background}"}

  %input{'type': 'hidden', 'name': 'learner_dashboard', 'value': '#{learner_dashboard_id}'}
  .error
    - if error
      = error

  %button.radius.small.left{id: "resetColors"}
    Reset tile colors
  %input.button.radius.small.right{id: "formSubmit", type: "submit", value: "Save", disabled: "True"}

- block js_snippets
  %script{src: "/static/js/form_changed_check.js"}
  :javascript
    var background = $('#id_tile_background_color');
    var label = $('#id_label_color');
    var note = $('#id_note_color');
    var title = $('#id_title_color');

    $('#resetColors').on('click', function(event){
      event.preventDefault();
      background.val(background.data('default-value'));
      label.val(label.data('default-value'));
      note.val(note.data('default-value'));
      title.val(title.data('default-value'));
      $('#formSubmit').attr('disabled',false);
    });
