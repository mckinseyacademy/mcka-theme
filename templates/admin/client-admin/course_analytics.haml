- extends "admin/admin_layout.haml"

- block content
  .admin-detail.row
    .large-12.large.columns
      - include 'admin/client-admin/course_header.haml'

  .admin-detail.row
    .large-12.large.columns
      - block admin_detail
        %h1
          %span= _("Analytics: ")
          %span= course.name
        %p= _("Interested in how your company's participants are doing in the course? See below to measure your participant's engagement, progress through course content, social impact score, and demonstrated proficiency. Including how your company's participants are performing relative to their peers in the overall course cohort.")
        %hr

        .sub-1= _("Participant activity")
        %p.style-5= _("Daily sum of activity for your participants, with activity defined as # of modules completed. # of participants - those active on that day")
        .admin-analytics-participant-activity-wrapper
          %svg#admin-analytics-participant-activity
        %hr

        .sub-1= _("Progress")
        %p.style-5= _("% of content consumed by participants (total number of modules completed divided by total number of modules)")
        .admin-analytics-progress-wrapper
          %svg#admin-analytics-progress
        .progress_stats
          %ul
            %li= _("Your Company: ")
              %br
              %span.progress-stat.company= course.company_progress | floatformat:0
              %span.progress-stat.company= _("%")
            %li= _("Your Cohort: ")
              %br
              %span.progress-stat.cohort= course.cohort_progress | floatformat:0
              %span.progress-stat.cohort= _("%")
        %hr

        .proficiency-engagement
          .large-6.left
            .course-proficiency
              .sub-1= _("Proficiency")
              %p.style-5= _("Average grade based on current grade of participants.")

              %section.course-progress
              - if course.company_progress == 0
                .zero
                  %div
                    %span= _("Your course proficiency will be displayed here.")
              .visualization{'class': "progress-#{course.company_progress_chart} cohort-progress-#{course.cohort_progress_chart}"}
                .total= course.company_progress
                .inner-circle.gradient
                .progress-radial.gradient
                .triangle
              .cohort-average
                .label-4 cohort average = ={average_progress}%
              %br
              %p.style-5= _("Note: Grades may not appear until later in the course depending on number of graded items and their location within course content.")
              %hr
          .large-6.left
            .sub-1= _("Engagement")
            %p.style-5= _("Participant engagement increases through engagement on the discussion forums.")
            %hr
            .course-engagement
              .visualization{class: "{% if engagement.points >= 90 %}filled{% endif %}"}
                .band-1{class: "{% if engagement.points >= 30 %}filled{% endif %}"}
                .band-2{class: "{% if engagement.points >= 60 %}filled{% endif %}"}
                .total= engagement.employee_avg
              .label-4 cohort average = ={engagement.course_avg} points
